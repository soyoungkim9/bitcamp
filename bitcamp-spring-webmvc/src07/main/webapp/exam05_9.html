<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>main</title>
</head>
<body>

<h1>서버에 요청하기</h1>
	<button onclick="click1()">form 데이터 보내기</button><br>
	<button onclick="click2()">일반 텍스트 데이터 보내기</button><br>
	<button onclick="click3()">csv 데이터 보내기</button><br>
	<button onclick="click4()">json 데이터 보내기</button><br>
	<button onclick="click5()">게시물 데이터를 json 형식으로 보내기</button><br>
</body>

<script>
function click1() {
	var xhr = new XMLHttpRequest();
	xhr.open('POST', 'mvc/exam05_9/post', false);
	// POST 방식으로 데이터를 보낼 때는 반드시 요청 헤더에 보내는 데이터 형식을 지정해야 한다.
	// 그래야 서버에서 구분하여 처리할 수 있다.
	xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
	xhr.send("name=aaa&age=20&tel=111-2222");
	window.alert(xhr.responseText);
}

function click2() {
	var xhr = new XMLHttpRequest();
	xhr.open('POST', 'mvc/exam05_9/post', false);
	xhr.setRequestHeader('Content-Type', 'text/plain');
	xhr.send("aaa,20,111-2222");
	window.alert(xhr.responseText);
}

function click3() {
	var xhr = new XMLHttpRequest();
	xhr.open('POST', 'mvc/exam05_9/post', false);
	xhr.setRequestHeader('Content-Type', 'text/csv');
	xhr.send("aaa,20,111-2222");
	window.alert(xhr.responseText);
}

function click4() {
	var xhr = new XMLHttpRequest();
	xhr.open('POST', 'mvc/exam05_9/post', false);
	xhr.setRequestHeader('Content-Type', 'application/json')
	xhr.send('{"name":"age","age":20,"tel":"111-2222"}');
	window.alert(xhr.responseText);
}

function click5() {
	var xhr = new XMLHttpRequest();
	xhr.open('POST', 'mvc/exam05_9/post2', false);
	xhr.setRequestHeader('Content-Type', 'application/json')
	xhr.send('{"title":"age","content":"okok","createdDate":"2018-06-05","no":100}');
	window.alert(xhr.responseText);
}
</script>
</html>